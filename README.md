
# Suggestive Contour


<img src = "images/bunny_ls3loop.png" width = 32%><img src = "images/bunny_ls3loop_c.png" width = 32%><img src = "images/bunny_ls3loop_sc.png" width = 33%>

éå†™å®Ÿçš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° (NPR: Non-Photorealistic Rendering) ã«ãŠã‘ã‚‹ä»£è¡¨çš„ãªç‰¹å¾´ç·šã®è¨ˆç®—æ‰‹æ³•ã§ã‚ã‚‹ Suggestive Contours for Conveying Shape [DeCarlo et al 2003] ã®å®Ÿè£…ï¼å›³ã¯å·¦ã‹ã‚‰å…¥åŠ›ãƒ¡ãƒƒã‚·ãƒ¥ï¼Œè¼ªéƒ­ç·šï¼Œè¼ªéƒ­ç·šã¨suggestive contourï¼

NPRã«ãŠã‘ã‚‹ç‰¹å¾´ç·šã®ä»£è¡¨çš„ãªæ‰‹æ³•ã‚’å­¦ã³ï¼ŒNPRã«å¯¾ã™ã‚‹ç†è§£ã‚’æ·±ã‚ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦å®Ÿè£…ã—ãŸï¼

* ä½¿ç”¨è¨€èªï¼šC++
* ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼šEigenï¼ˆç·šå½¢ä»£æ•°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰

### è¼ªéƒ­ç·š
NPRã¨ã¯ï¼Œäººé–“ãŒæãçµµç”»ã‚„ã‚¤ãƒ©ã‚¹ãƒˆã®ã‚ˆã†ãªç‰¹å¾´ã‚’æŒã¤ç”»åƒã‚’ç”Ÿæˆã™ã‚‹æŠ€è¡“ã§ã‚ã‚‹ï¼3æ¬¡å…ƒå½¢çŠ¶ã®è¼ªéƒ­ç·šã¯ï¼ŒNPRã«ãŠã‘ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ä»˜ã‘ã®åŸºç¤ã‚’ãªã™é‡è¦ãªæ›²ç·šã§ã‚ã‚‹ï¼

3æ¬¡å…ƒå½¢çŠ¶ã«å¯¾ã™ã‚‹è¼ªéƒ­ç·šã¯ï¼Œè¦–ç·šãƒ™ã‚¯ãƒˆãƒ«ã¨æ³•ç·šãŒç›´äº¤ã™ã‚‹ç‚¹ã®é›†åˆã§ã‚ã‚‹ï¼


### Suggestive Contour
è¼ªéƒ­ç·šã¯NPRã«ãŠã„ã¦é‡è¦ãªè¦ç´ ã§ã‚ã‚‹ãŒï¼Œè¼ªéƒ­ç·šã®ã¿ã§å½¢çŠ¶ã®éš›ç«‹ã£ãŸç‰¹å¾´ã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ã¯é›£ã—ã„ï¼suggestive contourã¯ç‰¹å¾´ç·šã®ä¸€ã¤ã§ï¼Œä¸»ã«è¼ªéƒ­ç·šã¨çµ„ã¿åˆã‚ã›ã¦ç”¨ã„ã‚‰ã‚Œã‚‹ï¼è¦–ç‚¹ä½ç½®ã«ã‚ˆã£ã¦ç·šãŒå¤‰åŒ–ã™ã‚‹ã¨ã„ã†ç‰¹å¾´ãŒã‚ã‚Šï¼Œã“ã‚Œã«ã‚ˆã‚Šè‡ªç„¶ãªçµæœã‚’ç”Ÿã¿å‡ºã™ã“ã¨ãŒã§ãã‚‹ï¼

suggestive contourã¯æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã‚‹ï¼
```math
\kappa_r = 0 \ \mathrm{and} \ \nabla_ğ’˜\kappa_r>0
```
ã“ã“ã§ $\nabla_ğ’˜\kappa_r$ã¯ï¼Œ $\kappa_r$ã®ãƒ™ã‚¯ãƒˆãƒ«ğ’˜ã«æ²¿ã£ãŸæ–¹å‘å¾®åˆ†ã§ã‚ã‚‹ï¼

ä¸‰è§’å½¢ãƒ¡ãƒƒã‚·ãƒ¥ã«å¯¾ã—ã¦ã¯ç·šå½¢è£œé–“ã‚’ç”¨ã„ã¦ç·šã‚’æç”»ã™ã‚‹ï¼ã¾ãšï¼Œå„é ‚ç‚¹ã«å¯¾ã—ã¦ $\kappa_r$ã®å€¤ã‚’è¨ˆç®—ã™ã‚‹ï¼ã“ã‚Œã¯å¾®åˆ†å¹¾ä½•å­¦ã«ãŠã‘ã‚‹ã‚ªã‚¤ãƒ©ãƒ¼ã®å®šç†ã«ã‚ˆã‚Šæ±‚ã‚ã‚‰ã‚Œã‚‹ï¼  
```math
\kappa_r(ğ’‘) = \kappa_1(ğ’‘) \cos^2\phi + \kappa_2(ğ’‘) \sin^2\phi
```

ã“ã“ã§ $\kappa_1, \kappa_2$ ã¯ãã‚Œãã‚Œæœ€å¤§ï¼Œæœ€å°ã®ä¸»æ›²ç‡ã§ã‚ã‚Šï¼Œ $\phi$ã¯ $ğ’˜(ğ’‘)$ã¨ $\kappa_1$ã«å¯¾å¿œã™ã‚‹ä¸»æ–¹å‘ã¨ã®è§’åº¦ã§ã‚ã‚‹ï¼æ¬¡ã«ä¸‰è§’å½¢å†…ã§ $\kappa_r$ã‚’ç·šå½¢è£œé–“ã—ï¼Œãã®é›¶ç‚¹ã‚’è¦‹ã¤ã‘ã‚‹ï¼ãã®å¾Œï¼Œå¾—ã‚‰ã‚ŒãŸç·šåˆ†ã®é›†åˆã«å¯¾ã—ã¦ $\nabla_ğ’˜\kappa_r>0$ã®åˆ¤å®šã‚’ã™ã‚‹ï¼ã“ã‚Œã¯ï¼Œä¸‰è§’å½¢å†…ã§ $\kappa_r$ã®å‹¾é…ãƒ™ã‚¯ãƒˆãƒ«è¨ˆç®—ã—ï¼Œé ‚ç‚¹ã§å¹³å‡åŒ–ã™ã‚‹ã“ã¨ã§è¨ˆç®—ã§ãã‚‹ï¼

### å®Ÿè£…
æ¬¡ã®æ‰‹é †ã§suggestive contourã‚’å®Ÿè£…ã—ãŸï¼
* å…¥åŠ›ï¼šä¸‰è§’å½¢ãƒ¡ãƒƒã‚·ãƒ¥$\mathcal{M}$ (OBJãƒ•ã‚¡ã‚¤ãƒ«)ï¼Œè¦–ç‚¹ä½ç½®
* å‡ºåŠ›ï¼šsuggestive contourã¨ãªã‚‹é ‚ç‚¹ãƒ»è¾ºé›†åˆ (OBJãƒ•ã‚¡ã‚¤ãƒ«)  

1. è¦–ç‚¹ä½ç½®ï¼Œè§’åº¦ã«é–¢ã™ã‚‹é–¾å€¤ï¼Œå¾®åˆ†å€¤ã«é–¢ã™ã‚‹é–¾å€¤ã‚’å…¥åŠ›ã™ã‚‹ï¼
1. å…¥åŠ›ãƒ¡ãƒƒã‚·ãƒ¥ã®æœ€å°åŒ…å«çƒãŒå˜ä½çƒã«ãªã‚‹ã‚ˆã†æ­£è¦åŒ–ã™ã‚‹ï¼
1. å„é ‚ç‚¹ã«å¯¾ã—ã¦ä¸»æ›²ç‡ã‚’è¨ˆç®—ã—ï¼Œå¾®åˆ†å¹¾ä½•å­¦ã«ãŠã‘ã‚‹ã‚ªã‚¤ãƒ©ãƒ¼ã®å®šç†ã‚’ç”¨ã„ã¦ $\kappa_r$ã‚’æ±‚ã‚ã‚‹ï¼
1. å„é ‚ç‚¹ã®å‹¾é…ãƒ™ã‚¯ãƒˆãƒ«ã‚’è¨ˆç®—ã—ï¼Œæ–¹å‘å¾®åˆ† $\nabla_ğ’˜\kappa_r$ã‚’æ±‚ã‚ã‚‹ï¼
1. å„é¢å†…ã§$\kappa_r$ã‚’ç·šå½¢è£œé–“ã—ï¼Œ $\kappa_r=0$ã¨ãªã‚‹ç‚¹ã‚’è¦‹ã¤ã‘ã‚‹ï¼ãã®ç‚¹ãŒ $\nabla_ğ’˜\kappa_r>0$ã§ã‚ã‚Œã°ï¼Œsuggestive contourã®é ‚ç‚¹ãƒ»è¾ºãƒªã‚¹ãƒˆã«è¿½åŠ ã™ã‚‹ï¼


### å®Ÿè¡Œä¾‹

```
Enter a viewpoint: 10 0 0               // è¦–ç‚¹ä½ç½®
Enter angle threshold : 0.22            // è§’åº¦ã®é–¾å€¤ï¼ŒÏ€/2ãªã‚‰0.5ã¨å…¥åŠ›
Enter derivative threshold : 0.02       // å¾®åˆ†å€¤ã®é–¾å€¤
```
